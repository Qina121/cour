<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>

    /*
    * 拷贝继承
    * */

    //动物类的构造函数 animal.class.js
    function Animal(){
        this.class = '动物';
    }

    Animal.prototype.run = function(){
        console.log('跑');
    };

    //猫类  犬类 。。。。。
    function Cat(){

        this.color = 'black';
        this.name = '猫';

    }


    var animal = new Animal();

    console.log(animal);

//    for(var key in animal){ //浅拷贝
//        Cat.prototype[key] = animal[key];
//    }
    Cat.prototype = deepCopy(animal);
    Cat.prototype.constructor = Cat;



    Cat.prototype.upTree = function(){};
    Cat.prototype.say = function(){
        console.log('我是一只'+this.name+',是'+this.class);
    };


    var cat_1 = new Cat();
    cat_1.say();
    console.log(cat_1);

    console.log(cat_1.name);
    console.log(cat_1.class);
    console.log(cat_1.run);
    console.log(cat_1.constructor);


    //深拷贝
    function deepCopy(obj){

        var data = {};//假设默认创建一个对象
        if(obj instanceof Array){
            data = [];
        }

        for(var key in obj){
            if(typeof obj[key]!='object'){
                data[key] = obj[key];
            }else{
                data[key] = deepCopy(obj[key])
            }
        }

        return data;
    }



</script>
</body>
</html>